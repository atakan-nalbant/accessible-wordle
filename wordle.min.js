let s=()=>{let e,t,a,l,o=(e,t,a)=>{e.setAttribute(t,a)},r=(e,t)=>{let a=e.shadowRoot;return a?a.querySelector(t):null},i=(e,t)=>{let a=e.shadowRoot;return a?a.querySelectorAll(t):[]},n=(e,t,a,l)=>{if(a&&("tile"==a?(o(e,"role","img"),o(e,"aria-roledescription","tile")):o(e,"role",a),"dialog"==a&&o(e,"aria-modal",!1)),l&&o(e,"aria-label",l),t){if(0==e.tabIndex)return;e.tabIndex=0,e.addEventListener("keydown",t=>{if("Enter"==t.code||"Space"==t.code){t.stopPropagation(),t.preventDefault();let a=r(e,"div.switch");a?a.click():e.click()}},!1)}},s=e=>{let t="";["letter","evaluation","data-key","data-state"].forEach(a=>{let l=e.getAttribute(a);l&&(t+=" "+l)}),t!=e.getAttribute("aria-label")&&o(e,"aria-label",t)},u=e=>{let t=i(e,"game-tile");for(let e=0;e<t.length;e++)n(t[e],!0,"tile","Tile"),s(t[e])},c=new MutationObserver((e,t)=>{for(let t of e)s(t.target)}),b=e=>{n(e,!1,"tile","Empty"),o(e,"aria-live","polite"),s(e),c.observe(e,{attributes:!0})},d=e=>{c.observe(e,{attributes:!0})},g=new MutationObserver((e,t)=>{for(let t of e){let e=t.target,a=""+e.hasAttribute("checked");a!=e.getAttribute("aria-checked")&&o(e,"aria-checked",a)}}),h=e=>{e.hasAttribute("aria-checked")||(n(e,!0,"checkbox",e.getAttribute("name")),o(e,"aria-checked",e.hasAttribute("checked"))),g.observe(e,{attributes:!0})},m=new MutationObserver((l,o)=>{let i=l[0].target.hasAttribute("open");void 0!==t&&i!=t&&setTimeout(()=>{if(i){let t=r(e,"game-stats");if(t){let e=r(t,"button");e&&e.focus()}}else a&&a.focus()},1e3),t=i}),f=new MutationObserver((t,s)=>{let c=t[0].target,b=c.hasAttribute("open");void 0!==l&&b!=l&&(b&&n(c,!1,"dialog","Game Modal"),setTimeout(()=>{if(b){let t=r(c,"game-icon[icon=close]");t&&n(t,!0,"button","Close");let a=r(e,"game-settings");if(a){o(c,"aria-label","Settings Modal");let e=i(a,"game-switch");for(let t=0;t<e.length;t++)h(e[t]);let t=r(a,"game-switch");t&&t.focus()}let l=r(e,"game-help");l&&(o(c,"aria-label","Help Modal"),u(l),t.focus())}else a&&a.focus()},500)),l=b}),p=()=>{if(e=document.querySelector("game-app")){let s=r(e,"game-modal");if(s){n(s,!1,"dialog","Pop-up Modal");let e=r(s,"game-icon[icon=close]");e&&(n(e,!0,"button","Close"),setTimeout(()=>{e.focus()},1e3))}(e=>{t=e.hasAttribute("open"),m.observe(e,{attributes:!0})})(s);let c=r(e,"game-help");c&&u(c);let g=i(e,".toaster");for(let e=0;e<g.length;e++)o(g[e],"aria-live","polite");(e=>{l=e.hasAttribute("open"),f.observe(e,{attributes:!0})})(r(e,"game-page"));let h=r(e,"game-keyboard");n(h,!1,"group","Keyboard");let p=i(h,"button[data-key]");for(let e=0;e<p.length;e++)a||(a=p[e]),d(p[e]);let v=r(h,"button[data-key=←]");n(v,!1,null,"backspace");let k=i(e,"game-row");for(let e=0;e<k.length;e++){n(k[e],!1,"group","Row "+(e+1));let t=i(k[e],"game-tile");for(let e=0;e<t.length;e++)b(t[e])}let A=document.createElement("div");A.innerHTML="Wordle screen reader accessibility extension running.",k[k.length-1].parentElement.appendChild(A)}};setTimeout(()=>{p()},1e3)};s();