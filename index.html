<html>
  <head>
    <title>Accessible Wordle</title>
  </head>
  <body>

    <p>
      This is a little bookmarklet to make Wordle accessible to screen
      reader users. It's not a replacement for the game, rather you can
      use it to modify Wordle in-place to make it accessible - that way
      you can play the same game as everyone else.
    </p>
    <p>
      It's a few steps to set up, unfortunately. A Chrome extension is
      coming, but whlie that's still under review, this is the only way
      to modify a website in-place.
    </p>
    <p>
      Below is a link called Make Wordle Accessible. Instead of clicking
      the link, right-click it and choose Copy Link Address, then keep
      reading for the next step.
    </p>
    <p>
      <a href="javascript:(function()%7Bfunction%20fix(elem%2C%20makeClickable%2C%20role%2C%20label)%20%7Bif%20(role)%20%7Bif%20(role%20%3D%3D%20'tile')%20%7Belem.setAttribute('role'%2C%20'img')%3Belem.setAttribute('aria-roledescription'%2C%20'tile')%3B%7D%20else%20%7Belem.setAttribute('role'%2C%20role)%3B%7Dif%20(role%20%3D%3D%20'dialog')%20%7Belem.setAttribute('aria-modal'%2C%20true)%3B%7D%7Dif%20(label)%20%7Belem.setAttribute('aria-label'%2C%20label)%3B%7Dif%20(makeClickable)%20%7Bif%20(elem.tabIndex%20%3D%3D%200)return%3Belem.tabIndex%20%3D%200%3Belem.addEventListener('keydown'%2C%20(e)%20%3D%3E%20%7Bif%20(e.code%20%3D%3D%20'Enter'%20%7C%7C%20e.code%20%3D%3D%20'Space')%20%7Be.stopPropagation()%3Be.preventDefault()%3Bif%20(elem.shadowRoot%20%26%26elem.shadowRoot.querySelector('div.switch'))%20%7Belem.shadowRoot.querySelector('div.switch').click()%3B%7D%20else%20%7Belem.click()%3B%7D%7D%7D%2C%20false)%3B%7D%7Dfunction%20fixTile(tile)%20%7BnewLabel%20%3D%20(tile.getAttribute('letter')%20%7C%7C%20'')%20%2B%20'%20'%20%2B(tile.getAttribute('evaluation')%20%7C%7C%20'')%3Bif%20(newLabel%20!%3D%20tile.getAttribute('aria-label'))%20%7Btile.setAttribute('aria-label'%2C%20newLabel)%3B%7D%7Dlet%20tileObserver%20%3D%20new%20MutationObserver((mutationsList%2C%20observer)%20%3D%3E%20%7Bfor%20(let%20mutation%20of%20mutationsList)%20%7BfixTile(mutation.target)%3B%7D%7D)%3Bfunction%20watchTile(tile)%20%7Bfix(tile%2C%20false%2C%20'tile'%2C%20'Empty')%3Btile.setAttribute('aria-live'%2C%20'polite')%3BtileObserver.observe(tile%2C%20%7B%20attributes%3A%20true%2C%20childList%3A%20false%2C%20subtree%3A%20false%20%7D)%3B%7Dfunction%20fixKey(key)%20%7BnewLabel%20%3D%20(key.getAttribute('data-key')%20%7C%7C%20'')%20%2B%20'%20'%20%2B(key.getAttribute('data-state')%20%7C%7C%20'')%3Bif%20(newLabel%20!%3D%20key.getAttribute('aria-label'))%20%7Bkey.setAttribute('aria-label'%2C%20newLabel)%3B%7D%7Dlet%20keyObserver%20%3D%20new%20MutationObserver((mutationsList%2C%20observer)%20%3D%3E%20%7Bfor%20(let%20mutation%20of%20mutationsList)%20%7BfixKey(mutation.target)%3B%7D%7D)%3Bfunction%20watchKey(key)%20%7BkeyObserver.observe(key%2C%20%7B%20attributes%3A%20true%2C%20childList%3A%20false%2C%20subtree%3A%20false%20%7D)%3B%7Dlet%20checkboxObserver%20%3D%20new%20MutationObserver((mutationsList%2C%20observer)%20%3D%3E%20%7Bfor%20(let%20mutation%20of%20mutationsList)%20%7Blet%20checkbox%20%3D%20mutation.target%3Blet%20newAttr%20%3D%20''%20%2B%20checkbox.hasAttribute('checked')%3Bif%20(newAttr%20!%3D%20checkbox.getAttribute('aria-checked'))%20%7Bcheckbox.setAttribute('aria-checked'%2C%20newAttr)%3B%7D%7D%7D)%3Bfunction%20watchCheckbox(checkbox)%20%7Bif%20(!checkbox.hasAttribute('aria-checked'))%20%7Bfix(checkbox%2C%20true%2C%20'checkbox'%2C%20checkbox.getAttribute('name'))%3Bcheckbox.setAttribute('aria-checked'%2Ccheckbox.hasAttribute('checked'))%3B%7DcheckboxObserver.observe(checkbox%2C%20%7B%20attributes%3A%20true%2C%20childList%3A%20false%2C%20subtree%3A%20false%20%7D)%3B%7Dlet%20app%3Blet%20previousModalState%3Blet%20firstKey%3Blet%20modalObserver%20%3D%20new%20MutationObserver((mutationsList%2C%20observer)%20%3D%3E%20%7Blet%20modal%20%3D%20mutationsList%5B0%5D.target%3Blet%20state%20%3D%20modal.hasAttribute('open')%3Bif%20(previousModalState%20!%3D%3D%20undefined%20%26%26%20state%20!%3D%20previousModalState)%20%7BsetTimeout(()%20%3D%3E%20%7Bif%20(state)%20%7Blet%20stats%20%3D%20app.shadowRoot.querySelector('game-stats')%3Bif%20(stats)%20%7Blet%20button%20%3D%20stats.shadowRoot.querySelector('button')%3Bif%20(button)%20%7Bbutton.focus()%3B%7D%7D%7D%20else%20%7Bif%20(firstKey)firstKey.focus()%3B%7D%7D%2C%201000)%3B%7DpreviousModalState%20%3D%20state%3B%7D)%3Bfunction%20watchModal(modal)%20%7BpreviousModalState%20%3D%20modal.hasAttribute('open')%3BmodalObserver.observe(modal%2C%20%20%7B%20attributes%3A%20true%2C%20childList%3A%20false%2C%20subtree%3A%20false%20%7D)%3B%7Dlet%20previousGamePageState%3Blet%20gamePageObserver%20%3D%20new%20MutationObserver((mutationsList%2C%20observer)%20%3D%3E%20%7Blet%20gamePage%20%3D%20mutationsList%5B0%5D.target%3Blet%20state%20%3D%20gamePage.hasAttribute('open')%3Bif%20(previousGamePageState%20!%3D%3D%20undefined%20%26%26state%20!%3D%20previousGamePageState)%20%7Bif%20(state)%20%7Bfix(gamePage%2C%20false%2C%20'dialog'%2C%20'Game%20Modal')%3B%7DsetTimeout(()%20%3D%3E%20%7Bif%20(state)%20%7Blet%20close%20%3D%20gamePage.shadowRoot.querySelector('game-icon%5Bicon%3Dclose%5D')%3Bif%20(close)%20%7Bfix(close%2C%20true%2C%20'button'%2C%20'Close')%3B%7Dlet%20gameSettings%20%3D%20app.shadowRoot.querySelector('game-settings')%3Bif%20(gameSettings)%20%7BgamePage.setAttribute('aria-label'%2C%20'Settings%20Modal')%3Blet%20checkboxes%20%3D%20gameSettings.shadowRoot.querySelectorAll('game-switch')%3Bfor%20(let%20i%20%3D%200%3B%20i%20%3C%20checkboxes.length%3B%20i%2B%2B)watchCheckbox(checkboxes%5Bi%5D)%3Blet%20checkbox%20%3D%20gameSettings.shadowRoot.querySelector('game-switch')%3Bif%20(checkbox)%20%7Bcheckbox.focus()%3B%7D%7Dlet%20help%20%3D%20app.shadowRoot.querySelector('game-help')%3Bif%20(help)%20%7BgamePage.setAttribute('aria-label'%2C%20'Help%20Modal')%3Blet%20tiles%20%3D%20help.shadowRoot.querySelectorAll('game-tile')%3Bfor%20(let%20j%20%3D%200%3B%20j%20%3C%20tiles.length%3B%20j%2B%2B)%20%7Bfix(tiles%5Bj%5D%2C%20true%2C%20'tile'%2C%20'Tile')%3BfixTile(tiles%5Bj%5D)%3B%7Dclose.focus()%3B%7D%7D%20else%20%7Bif%20(firstKey)firstKey.focus()%3B%7D%7D%2C%20500)%3B%7DpreviousGamePageState%20%3D%20state%3B%7D)%3Bfunction%20watchGamePage(gamePage)%20%7BpreviousGamePageState%20%3D%20gamePage.hasAttribute('open')%3BgamePageObserver.observe(gamePage%2C%20%20%7B%20attributes%3A%20true%2C%20childList%3A%20false%2C%20subtree%3A%20false%20%7D)%3B%7Dfunction%20applyFixes()%20%7Bapp%20%3D%20document.querySelector('game-app')%3Bif%20(app)%20%7Blet%20modal%20%3D%20app.shadowRoot.querySelector('game-modal')%3Bif%20(modal)%20%7Bfix(modal%2C%20false%2C%20'dialog'%2C%20'Pop-up%20Modal')%3Blet%20close%20%3D%20modal.shadowRoot.querySelector('game-icon%5Bicon%3Dclose%5D')%3Bif%20(close)%20%7Bfix(close%2C%20true%2C%20'button'%2C%20'Close')%3BsetTimeout(()%20%3D%3E%20%7Bclose.focus()%3B%7D%2C%201000)%3B%7D%7DwatchModal(modal)%3Blet%20help%20%3D%20app.shadowRoot.querySelector('game-help')%3Bif%20(help)%20%7Blet%20tiles%20%3D%20help.shadowRoot.querySelectorAll('game-tile')%3Bfor%20(let%20j%20%3D%200%3B%20j%20%3C%20tiles.length%3B%20j%2B%2B)%20%7Bfix(tiles%5Bj%5D%2C%20true%2C%20'tile'%2C%20'Tile')%3BfixTile(tiles%5Bj%5D)%3B%7D%7Dlet%20toasters%20%3D%20app.shadowRoot.querySelectorAll('.toaster')%3Bfor%20(let%20i%20%3D%200%3B%20i%20%3C%20toasters.length%3B%20i%2B%2B)%20%7Btoasters%5Bi%5D.setAttribute('aria-live'%2C%20'polite')%3B%7Dlet%20gamePage%20%3D%20app.shadowRoot.querySelector('game-page')%3BwatchGamePage(gamePage)%3Blet%20keyboard%20%3D%20app.shadowRoot.querySelector('game-keyboard')%3Bfix(keyboard%2C%20false%2C%20'group'%2C%20'Keyboard')%3Blet%20keys%20%3D%20keyboard.shadowRoot.querySelectorAll('button%5Bdata-key%5D')%3Bfor%20(let%20i%20%3D%200%3B%20i%20%3C%20keys.length%3B%20i%2B%2B)%20%7Bif%20(!firstKey)%20%7BfirstKey%20%3D%20keys%5Bi%5D%3B%7DwatchKey(keys%5Bi%5D)%3B%7Dlet%20backspace%20%3D%20keyboard.shadowRoot.querySelector('button%5Bdata-key%3D%E2%86%90%5D')%3Bfix(backspace%2C%20false%2C%20null%2C%20'backspace')%3Blet%20rows%20%3D%20app.shadowRoot.querySelectorAll('game-row')%3Bfor%20(let%20i%20%3D%200%3B%20i%20%3C%20rows.length%3B%20i%2B%2B)%20%7Bfix(rows%5Bi%5D%2C%20false%2C%20'group'%2C%20'Row%20'%20%2B%20(i%20%2B%201))%3Blet%20tiles%20%3D%20rows%5Bi%5D.shadowRoot.querySelectorAll('game-tile')%3Bfor%20(let%20j%20%3D%200%3B%20j%20%3C%20tiles.length%3B%20j%2B%2B)%20%7BwatchTile(tiles%5Bj%5D)%3B%7D%7Dlet%20extensionCredit%20%3D%20document.createElement('div')%3BextensionCredit.innerHTML%20%3D%20'Wordle%20screen%20reader%20accessibility%20extension%20running.'%3Brows%5Brows.length%20-%201%5D.parentElement.appendChild(extensionCredit)%3B%7D%7DsetTimeout(()%20%3D%3E%20%7BapplyFixes()%3B%7D%2C%201000)%7D)()">Make Wordle Accessible</a>
    <p>
      OK, if you copied the link address, the next step is to make it
      into a bookmark. Open your browser's bookmark manager and click on
      the option to create a new bookmark. You can't use the option to
      bookmark the current page, you have to find the option to create a new
      bookmark and enter a name and URL.
    </p>
    <p>
      Name the new bookmark Make Wordle Accessible or something like that.
      In the URL box, paste what you just copied. It's super long and should
      start with the word javascript. If it doesn't, something went wrong.
    </p>
    <p>
      Now all you need to do is visit Wordle and then after the page loads,
      open this bookmark you just saved, and the page will become accessible.
      If you keep the tab open it should keep working for as long as you want,
      but if you reopen or reload the page you'll have to also open the
      bookmark again.
    </p>
    
  </body>
</html>
